(this["webpackJsonpemoji-minesweeper--react"]=this["webpackJsonpemoji-minesweeper--react"]||[]).push([[0],[,,,,,,,,,,,,,function(e,t,a){e.exports=a(23)},,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),c=a(5),r=a.n(c),i=(a(18),a(19),a(1)),s=a(3),l=a(6),u=a(7),m=a(11),p=a(8),d=a(12),b=a(2),f=(a(20),a(21),a(10)),k=a(9),h=(a(22),Object(b.a)({classBlock:"ric-checkbox",defaultChecked:!1,indeterminate:!1})),v=Object(b.c)(h),N=function(e){var t,a=v(e),c=a.id,r=a.className,l=a.classBlock,u=a.style,m=a.role,p=a.name,d=a.defaultChecked,b=a.checked,h=a.indeterminate,N=a.disabled,g=a.autoFocus,w=a.inputRef,M=a.children,j=a.onChange,y=a.onClick,O=a.onFocus,_=a.onBlur,E=Object(n.useState)(!!h||("boolean"===typeof b?b:d)),B=Object(f.a)(E,2),F=B[0],C=B[1],P=!!h||("boolean"===typeof b?b:F),U=Object(k.a)(r||"","".concat(l),(t={},Object(i.a)(t,"".concat(l,"--checked"),P),Object(i.a)(t,"".concat(l,"--indeterminate"),h),Object(i.a)(t,"".concat(l,"--disabled"),!!N),t)).join(" ");return o.a.createElement("span",{className:U,style:u},o.a.createElement("input",{ref:w,id:c,className:"".concat(l,"__input"),name:p,type:"checkbox",checked:P,disabled:N,autoFocus:g,role:m,onChange:function(t){N||("boolean"!==typeof b&&C(t.target.checked),j&&j({target:Object(s.a)({},v(e),{checked:t.target.checked}),nativeEvent:t.nativeEvent,stopPropagation:function(){t.stopPropagation()},preventDefault:function(){t.preventDefault()}}))},onClick:y,onFocus:O,onBlur:_}),o.a.createElement("span",{className:"".concat(l,"__inner")},M))};N.defaultProps=h;var g=N,w=Object(b.a)({isMarked:!1,isFlipped:!1}),M=Object(b.b)(w),j=function(e){var t=M(e),a=t.isFlipped,n=t.isMarked,c=t.back,r=t.front,i=t.mark,s=t.onMouseUp;return o.a.createElement("span",{className:"mine-sweeper__block",onMouseUp:s,onContextMenu:function(e){return e.preventDefault()}},o.a.createElement(g,{classBlock:"mine-sweeper__checkbox",indeterminate:n,checked:a},n?i:a?r:c))};j.defaultProps=w;var y=j;function O(e,t,a){if(e=Math.floor(e),t=Math.floor(t),a=Math.floor(a),e<=0||t<=0||a<=0||a>e*t)throw new Error("invalid game params");for(var n=function(e,t,a){for(var n=e*t,o=[],c=0;c<n;++c)c<a?o.push(!0):o.push(!1);return function(e){for(var t=e.length,a=0;a<e.length;++a){var n=Math.floor(Math.random()*(t-1)),o=e[a];e[a]=e[n],e[n]=o}}(o),o}(e,t,a),o=[],c=0;c<e;++c)for(var r=0;r<t;++r){var i=c*t+r;if(n[i])o[i]={type:-1,isMarked:!1,isFlipped:!1};else{var s=0;c>0&&r>0&&(s+=n[(c-1)*t+r-1]?1:0),c>0&&(s+=n[(c-1)*t+r]?1:0),c>0&&r<t-1&&(s+=n[(c-1)*t+r+1]?1:0),r>0&&(s+=n[c*t+r-1]?1:0),r<t-1&&(s+=n[c*t+r+1]?1:0),c<e-1&&r>0&&(s+=n[(c+1)*t+r-1]?1:0),c<e-1&&(s+=n[(c+1)*t+r]?1:0),c<e-1&&r<t-1&&(s+=n[(c+1)*t+r+1]?1:0),o[i]={type:s,isMarked:!1,isFlipped:!1}}}return{rowNum:e,colNum:t,bombNum:a,bombMap:n,blockMap:o,flippedNum:0,markedNum:0,status:"ongoing"}}var _=Object(b.a)({back:"\u2b1c",blank:"\u25fb\ufe0f",mark:"\ud83d\udea9",bomb:"\ud83d\udca3",boom:"\ud83d\udca5",ongoing:"\ud83d\ude00",completed:"\ud83d\ude0e",failed:"\ud83d\ude35",hovered:"\ud83d\ude33",rowNum:10,colNum:10,bombNum:10}),E=Object(b.b)(_),B=["","1\ufe0f\u20e3","2\ufe0f\u20e3","3\ufe0f\u20e3","4\ufe0f\u20e3","5\ufe0f\u20e3","6\ufe0f\u20e3","7\ufe0f\u20e3","8\ufe0f\u20e3"],F=function(e){function t(e){var a;Object(l.a)(this,t),(a=Object(m.a)(this,Object(p.a)(t).call(this,e))).handleInit=function(e,t,n){a.setState({game:O(e,t,n)})},a.handleBlockMouseUp=function(e,t,n){"ongoing"===a.state.game.status&&(0===n.button?a.handleBlockLeftClick(e,t,n):2===n.button&&a.handleBlockRightClick(e,t,n))},a.handleBlockLeftClick=function(e,t,n){var o=a.state.game,c=o.rowNum,r=o.colNum,i=o.bombNum,s=o.blockMap[e*r+t];if(!s.isFlipped&&!s.isMarked){if(-1===s.type)return s.type=-2,o.status="failed",void a.forceUpdate();!function e(t,a,n){var o=n.rowNum,c=n.colNum,r=n.blockMap[t*c+a];r.isFlipped||-1===r.type||(r.isFlipped=!0,n.flippedNum+=1,r.isMarked&&(r.isMarked=!1,n.markedNum-=1),0===r.type&&(t>0&&a>0&&e(t-1,a-1,n),t>0&&e(t-1,a,n),t>0&&a<c-1&&e(t-1,a+1,n),a>0&&e(t,a-1,n),a<c-1&&e(t,a+1,n),t<o-1&&a>0&&e(t+1,a-1,n),t<o-1&&e(t+1,a,n),t<o-1&&a<c-1&&e(t+1,a+1,n)))}(e,t,o),o.flippedNum===c*r-i&&(o.status="completed"),a.forceUpdate()}},a.handleBlockRightClick=function(e,t,n){var o=a.state.game,c=o.colNum,r=o.blockMap[e*c+t];r.isFlipped||(r.isMarked=!r.isMarked,o.markedNum+=r.isMarked?1:-1,a.forceUpdate())};var n=E(e),o=n.rowNum,c=n.colNum,r=n.bombNum;return a.state={game:O(o,c,r)},a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"componentDidUpdate",value:function(e,t){var a=this.innerProps,n=a.rowNum,o=a.colNum,c=a.bombNum,r=E(e),i=r.rowNum,s=r.colNum,l=r.bombNum;n===i&&o===s&&c===l||this.handleInit(n,o,c)}},{key:"renderStatusBar",value:function(){var e=this,t=this.state.game.status,a=this.innerProps,n=a.rowNum,c=a.colNum,r=a.bombNum,i=a.ongoing,s=a.completed,l=a.failed,u=a.hovered,m="";return m="completed"===t?s:"failed"===t?l:i,o.a.createElement("div",{className:"".concat("mine-sweeper","__status-bar"),onClick:function(){return e.handleInit(n,c,r)}},o.a.createElement("span",{className:"".concat("mine-sweeper","__status")},m),o.a.createElement("span",{className:"".concat("mine-sweeper","__status ").concat("mine-sweeper","__status--hovered")},u))}},{key:"renderGrid",value:function(){for(var e,t=this.state.game,a=t.blockMap,n=t.status,c=this.innerProps,r=c.rowNum,l=c.colNum,u=c.bomb,m=c.blank,p=c.back,d=c.mark,b=c.boom,f=Object(s.a)({},B,(e={},Object(i.a)(e,-2,b),Object(i.a)(e,-1,u),Object(i.a)(e,0,m),e)),k="ongoing"!==n,h=[],v=0;v<=r-1;++v){for(var N=[],g=0;g<=l-1;++g){var w=a[v*l+g];k&&(w.isFlipped=!0,"failed"===n?w.isMarked=!1:-1===w.type&&(w.isMarked=!0)),N.push(o.a.createElement(y,{key:"".concat(v,"-").concat(g),back:p,front:f[w.type],mark:d,isMarked:w.isMarked,isFlipped:w.isFlipped,onMouseUp:this.handleBlockMouseUp.bind(this,v,g)}))}h.push(o.a.createElement("div",{key:"".concat(v),className:"".concat("mine-sweeper","__row")},N))}return o.a.createElement("div",{className:"".concat("mine-sweeper","__grid")},h)}},{key:"render",value:function(){return o.a.createElement("div",{className:"".concat("mine-sweeper")},this.renderStatusBar(),this.renderGrid())}},{key:"innerProps",get:function(){return E(this.props)}}]),t}(n.Component);F.defaultProps=_;var C=function(){return o.a.createElement("div",{className:"app"},o.a.createElement(F,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(o.a.createElement(C,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}],[[13,1,2]]]);
//# sourceMappingURL=main.2749f7b0.chunk.js.map